-- CREATE DATABASE ....

--TẠO BẢNG
--TẠO BẢNG BỆNH NHÂN
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[BENHNHAN](
	[MABENHNHAN]  [numeric](8, 0) IDENTITY(10000000,1) NOT NULL,
	[TENBN]  [nvarchar](100) NULL,
	[HOBN]  [nvarchar](100) NULL,
	[NGAYSINHBN]  [smalldatetime] NULL,
	[GIOITINHBN]  [nvarchar] (4) NULL,
	[NGHENGHIEP]  [nvarchar](100) NULL,
	[DIACHIBN]  [nvarchar](100) NULL
 CONSTRAINT [PK_BENHNHAN] PRIMARY KEY NONCLUSTERED 
(
	[MABENHNHAN]  ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[BENHNHAN] ON
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000000 AS Numeric(8, 0)), N'An', N'Lê Trọng Phúc', CAST(0x8EC00000 AS SmallDateTime), N'Nam', N'Sinh viên', N'KTX ĐH QG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000001 AS Numeric(8, 0)), N'Linh', N'Nguyễn Mai Xuân', CAST(0x8EB80000 AS SmallDateTime), N'Nữ', N'Sinh viên', N'KTX ĐHQG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000002 AS Numeric(8, 0)), N'Lê', N'Bá Nam', CAST(0x84B60000 AS SmallDateTime), N'Nam', N'Sinh viên', N'KTX DHQG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000003 AS Numeric(8, 0)), N'Tân', N'Nguyễn Minh', CAST(0x81A20000 AS SmallDateTime),  N'Nam', N'Sinh viên', N' KTX DHQG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000004 AS Numeric(8, 0)), N'Sỹ', N'Nguyễn Duy', CAST(0x83570000 AS SmallDateTime), N'Nam', N'Sinh viên', N' KTX DHQG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000005 AS Numeric(8, 0)), N'Hiền', N'Nguyễn Bạch', CAST(0x00290000 AS SmallDateTime), N'Nữ', N'Sinh viên', N' KTX DHQG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000006 AS Numeric(8, 0)), N'Hiệp', N'Lê Nguyễn Hào', CAST(0x80680000 AS SmallDateTime),  N'Nam', N'Sinh viên', N' KTX DHQG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000007 AS Numeric(8, 0)), N'Nhung', N'Võ Thị Bích', CAST(0x80680000 AS SmallDateTime), N'Nữ', N'Sinh viên', N' KTX DHQG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000008 AS Numeric(8, 0)), N'Thi', N'Lê Thị Thu', CAST(0x7EFB0000 AS SmallDateTime), N'Nữ', N'Sinh viên', N'KTX ĐHQG')
INSERT [dbo].[BENHNHAN] ([MABENHNHAN] , [TENBN] , [HOBN] , [NGAYSINHBN] , [GIOITINHBN] , [NGHENGHIEP] , [DIACHIBN] ) VALUES (CAST(10000009 AS Numeric(8, 0)), N'Xuyến', N'Lê Thị', CAST(0x81D50000 AS SmallDateTime), N'Nữ', N'Sinh viên', N' KTX DHQG')
SET IDENTITY_INSERT [dbo].[BENHNHAN] OFF


--TẠO BẢNG BỆNH
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[BENH](
	[MABENH]  [numeric](3, 0) IDENTITY(100,1) NOT NULL,
	[TENBENH]  [nvarchar](100) NULL,
	[PHANLOAI] [numeric](3, 0) NULL
 CONSTRAINT [PK_BENH] PRIMARY KEY NONCLUSTERED 
(
	[MABENH]  ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[BENH] ON
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(110 AS Numeric(3, 0)), N'Viêm mũi xoang cấp', CAST(100 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(102 AS Numeric(3, 0)), N'Tăng huyết áp', CAST(101 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(103 AS Numeric(3, 0)), N'Suy tim', CAST(101 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(105 AS Numeric(3, 0)), N'Huyết khối động - tim mạch ở chi', CAST(101 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(106 AS Numeric(3, 0)), N' Rối loạn nhịp không ảnh hưởng đến huyết động học: rung nhĩ, ngoại tâm Thu thất, nhịp chậm xoang', CAST(101 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(107 AS Numeric(3, 0)), N'Tăng áp động mạch phổi nhẹ - trung bình', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(108 AS Numeric(3, 0)), N'- Viêm amidan hốc mủ', CAST(100 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(109 AS Numeric(3, 0)), N'Áp xe quanh amidan', CAST(100 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(111 AS Numeric(3, 0)), N'Viêm thanh quản cấp', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(112 AS Numeric(3, 0)), N'Viêm phế quản cấp', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(114 AS Numeric(3, 0)), N'Viêm phổi', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(115 AS Numeric(3, 0)), N'Viêm phổi thuỳ', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(116 AS Numeric(3, 0)), N' Áp xe phổi', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(117 AS Numeric(3, 0)), N' Tràn dịch màng phổi', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(118 AS Numeric(3, 0)), N'Tràn khí màng phổi', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(119 AS Numeric(3, 0)), N'Đợt cấp COPD', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(120 AS Numeric(3, 0)), N'Dãn phế quản bội nhiễm', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(121 AS Numeric(3, 0)), N'Hen phế quản', CAST(102 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(122 AS Numeric(3, 0)), N'Loét thực quản', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(123 AS Numeric(3, 0)), N'Viêm loét dạ dày – tá tràng cấp', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(124 AS Numeric(3, 0)), N'Xuất huyết tiêu hoá', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(125 AS Numeric(3, 0)), N'Hội chứng lỵ : trực tràng, amibe', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(126 AS Numeric(3, 0)), N'Viêm loét đại tràng - trực tràng', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(127 AS Numeric(3, 0)), N'IBS (hội chứng đại tràng kích thích)', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(128 AS Numeric(3, 0)), N'Viêm túi mật cấp không do sỏi', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(129 AS Numeric(3, 0)), N'Áp xe gan: vi trùng, amibe, sán lá gan', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(130 AS Numeric(3, 0)), N'Nhiễm trùng đường mật: sỏi OMC đã ERCP lấy sỏi, ngược dòng', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(131 AS Numeric(3, 0)), N'Xơ gan', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(132 AS Numeric(3, 0)), N'Viêm gan cấp', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(133 AS Numeric(3, 0)), N'Viêm tuỵ cấp', CAST(103 AS Numeric(3, 0)))
INSERT [dbo].[BENH] ([MABENH] , [TENBENH], [PHANLOAI]) VALUES (CAST(134 AS Numeric(3, 0)), N'Thương hàn', CAST(104 AS Numeric(3, 0)))
SET IDENTITY_INSERT [dbo].[BENH] OFF


--TẠO BẢNG KHÁM CHỈ ĐỊNH
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[KHAMCHIDINH](
	[MAKHAM]  [numeric](8, 0) IDENTITY(10000000,1) NOT NULL,
	[MABENHNHAN]  [numeric](8, 0) NULL,
	[MANHANVIEN]  [numeric](8, 0) NULL,
	[NGAYKHAM]  [datetime] NULL,
	[GIAKHAM]  [money] NULL
 CONSTRAINT [PK_KHAM] PRIMARY KEY NONCLUSTERED 
(
	[MAKHAM]  ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[KHAMCHIDINH] ON
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000001 AS Numeric(8, 0)), CAST(10000000 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2023-07-01' AS SmallDateTime), 550000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000002 AS Numeric(8, 0)), CAST(10000001 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2023-07-20' AS SmallDateTime), 550000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000003 AS Numeric(8, 0)), CAST(10000002 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2023-08-09' AS SmallDateTime), 550000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000004 AS Numeric(8, 0)), CAST(10000003 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2023-08-17' AS SmallDateTime), 250000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000005 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2023-08-28' AS SmallDateTime), 350000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000006 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2023-09-01' AS SmallDateTime), 550000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000007 AS Numeric(8, 0)), CAST(10000006 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2023-12-10' AS SmallDateTime), 450000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000008 AS Numeric(8, 0)), CAST(10000007 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2024-01-01' AS SmallDateTime), 550000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000009 AS Numeric(8, 0)), CAST(10000008 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2024-02-23' AS SmallDateTime), 550000.0000)
INSERT [dbo].[KHAMCHIDINH] ([MAKHAM] , [MABENHNHAN] , [MANHANVIEN] , [NGAYKHAM] , [GIAKHAM] ) VALUES (CAST(10000010 AS Numeric(8, 0)), CAST(10000009 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST('2024-04-01' AS SmallDateTime), 550000.0000)
SET IDENTITY_INSERT [dbo].[KHAMCHIDINH] OFF


--TẠO BẢNG CHI TIẾT KHÁM
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[KHAMCHITIET](
	[MAPHUONGTHUCKHAM]  [numeric](3, 0) NULL,
	[MAKHAM]  [numeric](8, 0) NULL,
	[MABENH]  [numeric](3, 0) NULL,
	[MADONTHUOC]  [numeric](8, 0) NULL,
) ON [PRIMARY]
GO
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(103 AS Numeric(3, 0)), CAST(10000001 AS Numeric(8, 0)), CAST(108 AS Numeric(3, 0)), CAST(10000011 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(103 AS Numeric(3, 0)), CAST(10000002 AS Numeric(8, 0)), CAST(109 AS Numeric(3, 0)), CAST(10000012 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(103 AS Numeric(3, 0)), CAST(10000003 AS Numeric(8, 0)), CAST(123 AS Numeric(3, 0)), CAST(10000013 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(101 AS Numeric(3, 0)), CAST(10000004 AS Numeric(8, 0)), CAST(130 AS Numeric(3, 0)), CAST(10000014 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(100 AS Numeric(3, 0)), CAST(10000005 AS Numeric(8, 0)), CAST(102 AS Numeric(3, 0)), CAST(10000015 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(103 AS Numeric(3, 0)), CAST(10000006 AS Numeric(8, 0)), CAST(122 AS Numeric(3, 0)), CAST(10000016 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(102 AS Numeric(3, 0)), CAST(10000007 AS Numeric(8, 0)), CAST(105 AS Numeric(3, 0)), CAST(10000017 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(103 AS Numeric(3, 0)), CAST(10000008 AS Numeric(8, 0)), CAST(124 AS Numeric(3, 0)), CAST(10000018 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(103 AS Numeric(3, 0)), CAST(10000009 AS Numeric(8, 0)), CAST(109 AS Numeric(3, 0)), CAST(10000019 AS Numeric(8, 0)))
INSERT [dbo].[KHAMCHITIET] ([MAPHUONGTHUCKHAM] , [MAKHAM] , [MABENH] , [MADONTHUOC]) VALUES (CAST(103 AS Numeric(3, 0)), CAST(10000010 AS Numeric(8, 0)), CAST(123 AS Numeric(3, 0)), CAST(10000020 AS Numeric(8, 0)))


--TẠO BẢNG PHƯƠNG THỨC KHÁM
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[KHAMPHUONGTHUC](
	[MAPHUONGTHUCKHAM]  [numeric](3, 0) IDENTITY(100,1) NOT NULL,
	[PHUONGTHUCKHAM]  [nvarchar](100) NULL,
	[GIAKHAM] [money] NULL
 CONSTRAINT [PK_PHUONGTHUCKHAM] PRIMARY KEY NONCLUSTERED 
(
	[MAPHUONGTHUCKHAM]  ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[KHAMPHUONGTHUC] ON
INSERT [dbo].[KHAMPHUONGTHUC] ([MAPHUONGTHUCKHAM] , [PHUONGTHUCKHAM], [GIAKHAM] ) VALUES (CAST(100 AS Numeric(3, 0)), N'Xét nghiệm máu', 200000.0000)
INSERT [dbo].[KHAMPHUONGTHUC] ([MAPHUONGTHUCKHAM] , [PHUONGTHUCKHAM], [GIAKHAM] ) VALUES (CAST(101 AS Numeric(3, 0)), N'Xét nghiệm nước tiểu', 100000.0000)
INSERT [dbo].[KHAMPHUONGTHUC] ([MAPHUONGTHUCKHAM] , [PHUONGTHUCKHAM], [GIAKHAM] ) VALUES (CAST(102 AS Numeric(3, 0)), N'Chụp X quang', 300000.0000)
INSERT [dbo].[KHAMPHUONGTHUC] ([MAPHUONGTHUCKHAM] , [PHUONGTHUCKHAM], [GIAKHAM] ) VALUES (CAST(103 AS Numeric(3, 0)), N'Nội soi ', 400000.0000)
SET IDENTITY_INSERT [dbo].[KHAMPHUONGTHUC] OFF


-- TẠO BẲNG CHỮA BỆNH
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CHUABENH](
	[MACHUABENH]  [numeric](8, 0) IDENTITY(10000000,1) NOT NULL,
	[MAKHAM]  [numeric](8, 0) NULL,
	[NGAYCHUA]  [smalldatetime] NULL,
	[MAPHUONGTHUCCHUA] INT NULL,
	[GIACHUA]  [money] NULL
 CONSTRAINT [PK_CHUABENH] PRIMARY KEY NONCLUSTERED 
(
	[MACHUABENH]  ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[CHUABENH] ON
INSERT [dbo].[CHUABENH] ([MACHUABENH] , [MAKHAM] , [NGAYCHUA] , [MAPHUONGTHUCCHUA], [GIACHUA] ) VALUES (CAST(10000001 AS Numeric(8, 0)), CAST(10000001 AS Numeric(8, 0)), CAST('2023-07-01' AS SmallDateTime), 0, 0)
INSERT [dbo].[CHUABENH] ([MACHUABENH] , [MAKHAM] , [NGAYCHUA] , [MAPHUONGTHUCCHUA], [GIACHUA] ) VALUES (CAST(10000002 AS Numeric(8, 0)), CAST(10000002 AS Numeric(8, 0)), CAST('2023-07-20' AS SmallDateTime), 0, 0)
INSERT [dbo].[CHUABENH] ([MACHUABENH] , [MAKHAM] , [NGAYCHUA] , [MAPHUONGTHUCCHUA], [GIACHUA] ) VALUES (CAST(10000003 AS Numeric(8, 0)), CAST(10000003 AS Numeric(8, 0)), CAST('2023-08-10' AS SmallDateTime), 0, 0)
INSERT [dbo].[CHUABENH] ([MACHUABENH] , [MAKHAM] , [NGAYCHUA] , [MAPHUONGTHUCCHUA], [GIACHUA] ) VALUES (CAST(10000004 AS Numeric(8, 0)), CAST(10000007 AS Numeric(8, 0)), CAST('2023-12-10' AS SmallDateTime), 1, 1500000.0000)
INSERT [dbo].[CHUABENH] ([MACHUABENH] , [MAKHAM] , [NGAYCHUA] , [MAPHUONGTHUCCHUA], [GIACHUA] ) VALUES (CAST(10000005 AS Numeric(8, 0)), CAST(10000008 AS Numeric(8, 0)), CAST('2024-01-02' AS SmallDateTime), 1, 2800000.0000)
SET IDENTITY_INSERT [dbo].[CHUABENH] OFF


--TẠO BẢNG CHI TIẾT CHỮA BỆNH
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CHUABENHCHITIET](
	[MACHUABENH]  [numeric](8, 0) NULL,
	[MANHANVIEN]  [numeric](8, 0) NULL
) ON [PRIMARY]
GO
INSERT [dbo].[CHUABENHCHITIET] ([MACHUABENH] , [MANHANVIEN] ) VALUES (CAST(10000001 AS Numeric(8, 0)), CAST(10000000 AS Numeric(8, 0)))
INSERT [dbo].[CHUABENHCHITIET] ([MACHUABENH] , [MANHANVIEN] ) VALUES (CAST(10000002 AS Numeric(8, 0)), CAST(10000000 AS Numeric(8, 0)))
INSERT [dbo].[CHUABENHCHITIET] ([MACHUABENH] , [MANHANVIEN] ) VALUES (CAST(10000003 AS Numeric(8, 0)), CAST(10000000 AS Numeric(8, 0)))
INSERT [dbo].[CHUABENHCHITIET] ([MACHUABENH] , [MANHANVIEN] ) VALUES (CAST(10000004 AS Numeric(8, 0)), CAST(10000001 AS Numeric(8, 0)))
INSERT [dbo].[CHUABENHCHITIET] ([MACHUABENH] , [MANHANVIEN] ) VALUES (CAST(10000005 AS Numeric(8, 0)), CAST(10000003 AS Numeric(8, 0)))


--TẠO BẢNG PHƯƠNG THỨC CHỮA BỆNH
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CHUABENHPHUONGTHUC](
	[MAPHUONGTHUCCHUA] INT NOT NULL,
	[PHUONGTHUCCHUA] [nvarchar](100) NULL,
	[GIACHUA]  [money] NULL
 CONSTRAINT [PK_PHUONGTHUCCHUABENH] PRIMARY KEY NONCLUSTERED 
(
	[MAPHUONGTHUCCHUA] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
INSERT [dbo].[CHUABENHPHUONGTHUC] ([MAPHUONGTHUCCHUA], [PHUONGTHUCCHUA], [GIACHUA]) VALUES (0, N'Không phẫu thuật', 0.0000)
INSERT [dbo].[CHUABENHPHUONGTHUC] ([MAPHUONGTHUCCHUA], [PHUONGTHUCCHUA], [GIACHUA]) VALUES (1, N'Phẩu thuật', 1500000.0000)


--TẠO BẢNG NHÂN VIÊN PHÒNG KHÁM
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[NHANVIEN](
	[MANHANVIEN]  [numeric](8, 0) IDENTITY(10000000,1) NOT NULL,
	[MAPHONGBAN] [numeric](3, 0) NULL,
	[MACHUYENMON] [numeric](3, 0) NULL,
	[TENNV]  [nvarchar](100) NULL,
	[HONV]  [nvarchar](100) NULL,
	[NGAYSINHNV]  [smalldatetime] NULL,
	[GIOITINHNV]  [nvarchar] (4) NULL,
	[DIACHINV]  [nvarchar](100) NULL,
 CONSTRAINT [PK_NHANVIEN] PRIMARY KEY NONCLUSTERED 
(
	[MANHANVIEN]  ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET ANSI_PADDING OFF
GO
SET IDENTITY_INSERT [dbo].[NHANVIEN] ON
INSERT [dbo].[NHANVIEN] ([MANHANVIEN] , [MAPHONGBAN], [MACHUYENMON], [TENNV] , [HONV] , [NGAYSINHNV] , [GIOITINHNV] , [DIACHINV] ) VALUES (CAST(10000000 AS Numeric(8, 0)), CAST(100 AS Numeric(3, 0)), CAST(100 AS Numeric(3, 0)), N'Lâm', N'Nguyễn Văn', CAST(0x80C60000 AS SmallDateTime), N'Nam', N'107/10/1 Bình Giã Tp Vũng Tàu')
INSERT [dbo].[NHANVIEN] ([MANHANVIEN] , [MAPHONGBAN], [MACHUYENMON], [TENNV] , [HONV] , [NGAYSINHNV] , [GIOITINHNV] , [DIACHINV] ) VALUES (CAST(10000001 AS Numeric(8, 0)), CAST(100 AS Numeric(3, 0)), CAST(101 AS Numeric(3, 0)), N'Bình', N'Ung Quốc', CAST(0x8EB20000 AS SmallDateTime), N'Nam', N'Vĩnh Long')
INSERT [dbo].[NHANVIEN] ([MANHANVIEN] , [MAPHONGBAN], [MACHUYENMON], [TENNV] , [HONV] , [NGAYSINHNV] , [GIOITINHNV] , [DIACHINV] ) VALUES (CAST(10000002 AS Numeric(8, 0)), CAST(100 AS Numeric(3, 0)), CAST(102 AS Numeric(3, 0)), N'Loan', N'Đặng Thị Ngọc', CAST(0x81C80000 AS SmallDateTime), N'Nữ', N'ĐHQUG')
INSERT [dbo].[NHANVIEN] ([MANHANVIEN] , [MAPHONGBAN], [MACHUYENMON], [TENNV] , [HONV] , [NGAYSINHNV] , [GIOITINHNV] , [DIACHINV] ) VALUES (CAST(10000003 AS Numeric(8, 0)), CAST(100 AS Numeric(3, 0)), CAST(103 AS Numeric(3, 0)), N'Hiệp', N'Nguyễn Thành', CAST(0x81A20000 AS SmallDateTime), N'Nam', N'ĐHQG')
INSERT [dbo].[NHANVIEN] ([MANHANVIEN] , [MAPHONGBAN], [MACHUYENMON], [TENNV] , [HONV] , [NGAYSINHNV] , [GIOITINHNV] , [DIACHINV] ) VALUES (CAST(10000004 AS Numeric(8, 0)), CAST(100 AS Numeric(3, 0)), CAST(104 AS Numeric(3, 0)), N'Dũng', N'Đặng Công', CAST(0x7EFB0000 AS SmallDateTime), N'Nam', N'ĐHQG')
INSERT [dbo].[NHANVIEN] ([MANHANVIEN] , [MAPHONGBAN], [MACHUYENMON], [TENNV] , [HONV] , [NGAYSINHNV] , [GIOITINHNV] , [DIACHINV] ) VALUES (CAST(10000005 AS Numeric(8, 0)), CAST(101 AS Numeric(3, 0)), CAST(NULL AS Numeric(3, 0)), N'Tiên', N'Lê Thị Cẩm', CAST(0x7C200000 AS SmallDateTime), N'Nữ', N'Phú Yên')
INSERT [dbo].[NHANVIEN] ([MANHANVIEN] , [MAPHONGBAN], [MACHUYENMON], [TENNV] , [HONV] , [NGAYSINHNV] , [GIOITINHNV] , [DIACHINV] ) VALUES (CAST(10000006 AS Numeric(8, 0)), CAST(102 AS Numeric(3, 0)), CAST(NULL AS Numeric(3, 0)), N'Mi', N'Phạm Thị Diễm', CAST(0x80680000 AS SmallDateTime), N'Nữ',  N'ĐHQG')
SET IDENTITY_INSERT [dbo].[NHANVIEN] OFF


--TẠO BẢNG CHUYÊN MÔN
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CHUYENMON](
	[MACHUYENMON] [numeric](3, 0) IDENTITY(100,1) NOT NULL,
	[TENCHUYENMON] [nvarchar](100) NULL,
 CONSTRAINT [PK_CHUYENMON] PRIMARY KEY NONCLUSTERED 
(
	[MACHUYENMON] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[CHUYENMON] ON
INSERT [dbo].[CHUYENMON] ([MACHUYENMON], [TENCHUYENMON]) VALUES (CAST(100 AS Numeric(3, 0)), N'Tai mũi họng')
INSERT [dbo].[CHUYENMON] ([MACHUYENMON], [TENCHUYENMON]) VALUES (CAST(101 AS Numeric(3, 0)), N'Tim mạch')
INSERT [dbo].[CHUYENMON] ([MACHUYENMON], [TENCHUYENMON]) VALUES (CAST(102 AS Numeric(3, 0)), N'Hô hấp - Dị ứng miễn dịch lâm sàng')
INSERT [dbo].[CHUYENMON] ([MACHUYENMON], [TENCHUYENMON]) VALUES (CAST(103 AS Numeric(3, 0)), N'Tiêu hóa - Gan mật')
INSERT [dbo].[CHUYENMON] ([MACHUYENMON], [TENCHUYENMON]) VALUES (CAST(104 AS Numeric(3, 0)), N'Truyền nhiễm')
SET IDENTITY_INSERT [dbo].[CHUYENMON] OFF


--TẠO BẢNG PHÒNG BAN
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[PHONGBAN](
	[MAPHONGBAN] [numeric](3, 0) IDENTITY(100,1) NOT NULL,
	[TENPHONGBAN] [nvarchar](100) NULL,
 CONSTRAINT [PK_PHONGBAN] PRIMARY KEY NONCLUSTERED 
(
	[MAPHONGBAN] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[PHONGBAN] ON
INSERT [dbo].[PHONGBAN] ([MAPHONGBAN], [TENPHONGBAN]) VALUES (CAST(100 AS Numeric(3, 0)), N'Bác sĩ chuyên môn')
INSERT [dbo].[PHONGBAN] ([MAPHONGBAN], [TENPHONGBAN]) VALUES (CAST(101 AS Numeric(3, 0)), N'Bác sĩ chỉ định')
INSERT [dbo].[PHONGBAN] ([MAPHONGBAN], [TENPHONGBAN]) VALUES (CAST(102 AS Numeric(3, 0)), N'Y tá')
SET IDENTITY_INSERT [dbo].[PHONGBAN] OFF


-- TẠO BẢNG THUỐC
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[THUOC](
	[MATHUOC] [numeric](6, 0) IDENTITY(100000,1) NOT NULL,
	[THUOC] [nvarchar](100) NULL,
	[TONKHO] [int] NULL,
	[GIATHUOC]  [money] NULL,
 CONSTRAINT [PK_THUOC] PRIMARY KEY NONCLUSTERED 
(
	[MATHUOC] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[THUOC] ON
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100000 AS Numeric(6, 0)), N'Alvesin', 1000, 65000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100004 AS Numeric(6, 0)), N'Ameiu', 1000, 15000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100003 AS Numeric(6, 0)), N'Aminoplasma', 1000, 90000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100005 AS Numeric(6, 0)), N'Alussin 60 ml', 1000, 13000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100006 AS Numeric(6, 0)), N'Alussin 30', 1000, 16000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100007 AS Numeric(6, 0)), N'BAR', 1000, 13000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100008 AS Numeric(6, 0)), N'Bidioslama', 1000, 123000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100009 AS Numeric(6, 0)), N'Bổ thận dương', 1000, 40000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100010 AS Numeric(6, 0)), N'Clesamphenicol', 1000, 2000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100011 AS Numeric(6, 0)), N'Cốm trẻ em', 1000, 6000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100012 AS Numeric(6, 0)), N'Cù là con ó', 1000, 20000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100013 AS Numeric(6, 0)), N'Dạ hương', 1000, 12000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100014 AS Numeric(6, 0)), N'Dầu khinh diệp', 1000, 12000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100015 AS Numeric(6, 0)), N'Evasol 250 ml', 1000, 66000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100016 AS Numeric(6, 0)), N'Evasol 500 ml', 1000, 99000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100017 AS Numeric(6, 0)), N'Gennamecin', 1000, 2000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100018 AS Numeric(6, 0)), N'Glucose', 1000, 10000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100019 AS Numeric(6, 0)), N'Gyno opc', 1000, 5000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100020 AS Numeric(6, 0)), N'Gynofar', 1000, 7000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100021 AS Numeric(6, 0)), N'Mollium 30ml', 1000, 20000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100022 AS Numeric(6, 0)), N'Natri Bicarbonal', 1000, 38000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100023 AS Numeric(6, 0)), N'Orafa', 1000, 4000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100024 AS Numeric(6, 0)), N'Oxy già', 1000, 1000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100025 AS Numeric(6, 0)), N'Panthenol', 1000, 102000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100026 AS Numeric(6, 0)), N'Pectol 90ml', 1000, 10500.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100027 AS Numeric(6, 0)), N'Phytogymo', 1000, 15000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100028 AS Numeric(6, 0)), N'Viên sỏi thận', 1000, 50000.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100029 AS Numeric(6, 0)), N'Aremuc 100mg', 1000, 1400.0000)
INSERT [dbo].[THUOC] ([MATHUOC], [THUOC], [TONKHO], [GIATHUOC] ) VALUES (CAST(100030 AS Numeric(6, 0)), N'Aremuc 200mg', 1000, 2000.0000)
SET IDENTITY_INSERT [dbo].[THUOC] OFF


--TẠO BẢNG ĐƠN THUỐC
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DONTHUOC](
	[MADONTHUOC]  [numeric](8, 0) IDENTITY(10000000,1) NOT NULL,
	[MAKHAM]  [numeric](8, 0) NULL,
	[MANHANVIEN]  [numeric](8, 0) NULL,
	[NGAYXUATDONTHUOC]  [smalldatetime] NULL,
	[GIADONTHUOC]  [money] NULL
 CONSTRAINT [PK_DONTHUOC] PRIMARY KEY NONCLUSTERED 
(
	[MADONTHUOC]  ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[DONTHUOC] ON
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000011 AS Numeric(8, 0)), CAST(10000001 AS Numeric(8, 0)), CAST(10000000 AS Numeric(8, 0)), CAST('2023-07-01' AS Smalldatetime), 95000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000012 AS Numeric(8, 0)), CAST(10000002 AS Numeric(8, 0)), CAST(10000000 AS Numeric(8, 0)), CAST('2023-07-20' AS Smalldatetime), 241000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000013 AS Numeric(8, 0)), CAST(10000003 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), CAST('2023-08-11' AS Smalldatetime), 630000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000014 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), CAST('2023-08-17' AS Smalldatetime), 650000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000015 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST(10000002 AS Numeric(8, 0)), CAST('2023-08-28' AS Smalldatetime), 197000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000016 AS Numeric(8, 0)), CAST(10000006 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), CAST('2023-09-01' AS Smalldatetime), 132000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000017 AS Numeric(8, 0)), CAST(10000007 AS Numeric(8, 0)), CAST(10000001 AS Numeric(8, 0)), CAST('2024-01-05' AS Smalldatetime), 1950000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000018 AS Numeric(8, 0)), CAST(10000008 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), CAST('2024-01-16' AS Smalldatetime), 946000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000019 AS Numeric(8, 0)), CAST(10000009 AS Numeric(8, 0)), CAST(10000000 AS Numeric(8, 0)), CAST('2024-02-24' AS Smalldatetime), 1020000.000)
INSERT [dbo].[DONTHUOC] ([MADONTHUOC], [MAKHAM] , [MANHANVIEN] , [NGAYXUATDONTHUOC] , [GIADONTHUOC] ) VALUES (CAST(10000020 AS Numeric(8, 0)), CAST(10000010 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), CAST('2024-04-01' AS Smalldatetime), 2040000.000)
SET IDENTITY_INSERT [dbo].[DONTHUOC] OFF


--TẠO BẢNG ĐƠN THUỐC CHI TIẾT
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DONTHUOCCHITIET](
	[MATHUOC] [numeric](6, 0) NULL,
	[MADONTHUOC]  [numeric](8, 0) NULL,
	[SOLUONG] [int] NULL,
	[HDSD] [nvarchar](100) NULL
) ON [PRIMARY]
GO
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100000 AS Numeric(6, 0)), CAST(10000011 AS Numeric(8, 0)), 1, N'Uống hai lần/ngày, sau bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100004 AS Numeric(6, 0)), CAST(10000011 AS Numeric(8, 0)), 2, N'Uống hai lần/ngày, sau bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100000 AS Numeric(6, 0)), CAST(10000012 AS Numeric(8, 0)), 1, N'Uống hai lần/ngày, sau bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100006 AS Numeric(6, 0)), CAST(10000012 AS Numeric(8, 0)), 11, N'Uống tám lần/ngày, trước bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100004 AS Numeric(6, 0)), CAST(10000013 AS Numeric(8, 0)), 10, N'Uống hai lần/ngày, sau bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100009 AS Numeric(6, 0)), CAST(10000013 AS Numeric(8, 0)), 12, N'Uống hai lần/ngày, sau bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100000 AS Numeric(6, 0)), CAST(10000014 AS Numeric(8, 0)), 10, N'Uống một lần/ngày, trước bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100000 AS Numeric(6, 0)), CAST(10000015 AS Numeric(8, 0)), 1, N'Uống hai lần/ngày, sau bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100015 AS Numeric(6, 0)), CAST(10000015 AS Numeric(8, 0)), 2, N'Uống một lần/ngày, sáng sớm')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100017 AS Numeric(6, 0)), CAST(10000016 AS Numeric(8, 0)), 2, N'Uống một lần/ngày, trước bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100027 AS Numeric(6, 0)), CAST(10000017 AS Numeric(8, 0)), 10, N'Uống một lần/ngày, trước bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100003 AS Numeric(6, 0)), CAST(10000017 AS Numeric(8, 0)), 20, N'Uống một lần/ngày, sau bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100025 AS Numeric(6, 0)), CAST(10000018 AS Numeric(8, 0)), 2, N'Uống một lần/ngày, trước bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100022 AS Numeric(6, 0)), CAST(10000018 AS Numeric(8, 0)), 20, N'Uống một lần/ngày, trước bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100025 AS Numeric(6, 0)), CAST(10000019 AS Numeric(8, 0)), 10, N'Uống một lần/ngày, trước bữa ăn')
INSERT [dbo].[DONTHUOCCHITIET] ([MATHUOC], [MADONTHUOC] , [SOLUONG], [HDSD]) VALUES (CAST(100025 AS Numeric(6, 0)), CAST(10000020 AS Numeric(8, 0)), 20, N'Uống một lần/ngày, sau bữa ăn')


--TẠO BẢNG HÓA ĐƠN
	SET ANSI_NULLS ON
	GO
	SET QUOTED_IDENTIFIER ON
	GO
	CREATE TABLE [dbo].[HOADON](
		[MAHOADON] [numeric](8, 0) IDENTITY(10000000,1) NOT NULL,
		[MABENHNHAN]  [numeric](8, 0) NULL,
		[TENBN]  [nvarchar](100) NULL,
		[HOBN]  [nvarchar](100) NULL,
		[TENBENH]  [nvarchar](100) NULL,
		[MAKHAM]  [numeric](8, 0) NULL, 
		[MACHUABENH]  [numeric](8, 0) NULL,
		[MADONTHUOC]  [numeric](8, 0) NULL,
		[NGAYXUATHOADON]  [smalldatetime] NULL,
		[TONGTIEN] [money] NULL,
	 CONSTRAINT [PK_HOADON] PRIMARY KEY NONCLUSTERED 
	(
		[MAHOADON] ASC
	)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
	) ON [PRIMARY]
	GO
	SET IDENTITY_INSERT [dbo].[HOADON] ON
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000001 AS Numeric(8, 0)), CAST(10000000 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000001 AS Numeric(8, 0)), CAST(10000001 AS Numeric(8, 0)), CAST(10000011 AS Numeric(8, 0)), CAST('2023-07-01' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000002 AS Numeric(8, 0)), CAST(10000001 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000002 AS Numeric(8, 0)), CAST(10000002 AS Numeric(8, 0)), CAST(10000012 AS Numeric(8, 0)), CAST('2023-07-20' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000003 AS Numeric(8, 0)), CAST(10000002 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000003 AS Numeric(8, 0)), CAST(10000003 AS Numeric(8, 0)), CAST(10000013 AS Numeric(8, 0)), CAST('2023-08-11' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000004 AS Numeric(8, 0)), CAST(10000003 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000004 AS Numeric(8, 0)), NULL, CAST(10000014 AS Numeric(8, 0)), CAST('2023-08-17' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000005 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000005 AS Numeric(8, 0)), NULL, CAST(10000015 AS Numeric(8, 0)), CAST('2023-08-28' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000006 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000006 AS Numeric(8, 0)), NULL, CAST(10000016 AS Numeric(8, 0)), CAST('2023-09-01' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000007 AS Numeric(8, 0)), CAST(10000006 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000007 AS Numeric(8, 0)), CAST(10000004 AS Numeric(8, 0)), CAST(10000017 AS Numeric(8, 0)), CAST('2024-01-05' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000008 AS Numeric(8, 0)), CAST(10000007 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000008 AS Numeric(8, 0)), CAST(10000005 AS Numeric(8, 0)), CAST(10000018 AS Numeric(8, 0)), CAST('2024-01-16' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000009 AS Numeric(8, 0)), CAST(10000008 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000009 AS Numeric(8, 0)), NULL, CAST(10000019 AS Numeric(8, 0)), CAST('2024-02-24' AS Smalldatetime), NULL)
	INSERT [dbo].[HOADON] ([MAHOADON], [MABENHNHAN] , [TENBN] , [HOBN] , [TENBENH], [MAKHAM], [MACHUABENH], [MADONTHUOC] , [NGAYXUATHOADON] , [TONGTIEN]) VALUES (CAST(10000010 AS Numeric(8, 0)), CAST(10000009 AS Numeric(8, 0)), NULL, NULL, NULL, CAST(10000010 AS Numeric(8, 0)), NULL, CAST(10000020 AS Numeric(8, 0)), CAST('2024-04-01' AS Smalldatetime), NULL)
SET IDENTITY_INSERT [dbo].[HOADON] OFF


--TẠO BẢNG ĐĂNG NHẬP 
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DANGNHAP](
	[MADANGNHAP]  [numeric](8, 0) NULL,
	[TENDANGNHAP]  NVARCHAR (12) NOT NULL,
	[MATKHAU]  NVARCHAR (12) NOT NULL
CONSTRAINT [PK_DANGNHAP] PRIMARY KEY NONCLUSTERED 
(
	[TENDANGNHAP]  ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000000', 'BENHNHAN0', 'password0')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000001', 'BENHNHAN1', 'password1')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000002', 'BENHNHAN2', 'password2')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000003', 'BENHNHAN3', 'password3')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000004', 'BENHNHAN4', 'password4')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000005', 'BENHNHAN5', 'password5')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000006', 'BENHNHAN6', 'password6')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000007', 'BENHNHAN7', 'password7')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000008', 'BENHNHAN8', 'password8')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('10000009', 'BENHNHAN9', 'password9')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('90000000', 'BACSITMH', 'password10')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('90000001', 'BACSITM', 'password11')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('90000002', 'BACSIHH', 'password12')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('90000003', 'BACSITH', 'password13')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('90000004', 'BACSITN', 'password14')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('90000005', 'BACSICD', 'password15')
INSERT [dbo].[DANGNHAP] ([MADANGNHAP], [TENDANGNHAP], [MATKHAU]) VALUES ('90000006', 'YTA', 'password16')


-- CẬP NHẬT MÃ BỆNH NHÂN, HỌ, TÊN, TÊN BỆNH VÀO HÓA ĐƠN VÀ TỔNG TIỀN KHÁM + CHỮA BỆNH + THUỐC 
UPDATE H
SET H.TONGTIEN = ISNULL(K.GIA_KHAM, 0) + ISNULL(C.GIA_CHUABENH, 0) + ISNULL(T.GIA_THUOC, 0) 
FROM HOADON H
LEFT JOIN (
    SELECT MAKHAM, SUM(GIAKHAM) AS GIA_KHAM
    FROM KHAMCHIDINH K
    GROUP BY MAKHAM
) k ON H.MAKHAM = K.MAKHAM
LEFT JOIN (
    SELECT MADONTHUOC, SUM(GIADONTHUOC) AS GIA_THUOC
    FROM DONTHUOC T
    GROUP BY MADONTHUOC
) t ON H.MADONTHUOC = T.MADONTHUOC
LEFT JOIN (
    SELECT MACHUABENH, SUM(GIACHUA) AS GIA_CHUABENH
    FROM CHUABENH C
    GROUP BY MACHUABENH
) c ON H.MACHUABENH = C.MACHUABENH

UPDATE HD
SET HD.MABENHNHAN = BN.MABENHNHAN,
    HD.HOBN = BN.HOBN,
    HD.TENBN = BN.TENBN,
    HD.TENBENH = B.TENBENH
FROM HOADON HD
JOIN BENHNHAN BN ON HD.MABENHNHAN = BN.MABENHNHAN
JOIN KHAMCHIDINH k ON BN.MABENHNHAN = K.MABENHNHAN
JOIN KHAMCHITIET KCT ON K.MAKHAM = KCT.MAKHAM
JOIN BENH B ON KCT.MABENH = B.MABENH



--TẠO KHÓA NGOẠI	
-- ForeignKey [FK_KHAMCHITIET_KHAMPHUONGTHUC]      
ALTER TABLE [dbo].[KHAMCHITIET]  WITH CHECK ADD  CONSTRAINT [FK_KHAMCHITIET_KHAMPHUONGTHUC] FOREIGN KEY([MAPHUONGTHUCKHAM] )
REFERENCES [dbo].[KHAMPHUONGTHUC] ([MAPHUONGTHUCKHAM] )
GO
ALTER TABLE [dbo].[KHAMCHITIET] CHECK CONSTRAINT [FK_KHAMCHITIET_KHAMPHUONGTHUC]
GO

--  ForeignKey [FK_KHAMCHITIET_KHAMCHIDINH]    
ALTER TABLE [dbo].[KHAMCHITIET]  WITH CHECK ADD  CONSTRAINT [FK_KHAMCHITIET_KHAMCHIDINH] FOREIGN KEY([MAKHAM] )
REFERENCES [dbo].[KHAMCHIDINH] ([MAKHAM] )
GO
ALTER TABLE [dbo].[KHAMCHITIET] CHECK CONSTRAINT [FK_KHAMCHITIET_KHAMCHIDINH]
GO

-- ForeignKey [FK_KHAMCHIDINH_BENHNHAN]   
ALTER TABLE [dbo].[KHAMCHIDINH]  WITH CHECK ADD  CONSTRAINT [FK_KHAMCHIDINH_BENHNHAN] FOREIGN KEY([MABENHNHAN] )
REFERENCES [dbo].[BENHNHAN] ([MABENHNHAN] )
GO
ALTER TABLE [dbo].[KHAMCHIDINH] CHECK CONSTRAINT [FK_KHAMCHIDINH_BENHNHAN]
GO

-- ForeignKey [FK_KHAMCHITIET_BENH]   
ALTER TABLE [dbo].[KHAMCHITIET]  WITH CHECK ADD  CONSTRAINT [FK_KHAMCHITIET_BENH] FOREIGN KEY([MABENH] )
REFERENCES [dbo].[BENH] ([MABENH] )
GO
ALTER TABLE [dbo].[KHAMCHITIET] CHECK CONSTRAINT [FK_KHAMCHITIET_BENH]
GO

-- ForeignKey [FK_CHUABENH_KHAMCHIDINH]    
ALTER TABLE [dbo].[CHUABENH]  WITH CHECK ADD  CONSTRAINT [FK_CHUABENH_KHAMCHIDINH] FOREIGN KEY([MAKHAM] )
REFERENCES [dbo].[KHAMCHIDINH] ([MAKHAM] )
GO
ALTER TABLE [dbo].[CHUABENH] CHECK CONSTRAINT [FK_CHUABENH_KHAMCHIDINH]  
GO

-- ForeignKey [FK_CHUABENHCHITIET_CHUABENH] 
ALTER TABLE [dbo].[CHUABENHCHITIET]  WITH CHECK ADD  CONSTRAINT [FK_CHUABENHCHITIET_CHUABENH]  FOREIGN KEY([MACHUABENH] )
REFERENCES [dbo].[CHUABENH] ([MACHUABENH] )
GO
ALTER TABLE [dbo].[CHUABENHCHITIET] CHECK CONSTRAINT [FK_CHUABENHCHITIET_CHUABENH]  
GO

-- ForeignKey [FK_CHUABENHCHITIET_NHANVIEN]
ALTER TABLE [dbo].[CHUABENHCHITIET]  WITH CHECK ADD  CONSTRAINT [FK_CHUABENHCHITIET_NHANVIEN]  FOREIGN KEY([MANHANVIEN] )
REFERENCES [dbo].[NHANVIEN] ([MANHANVIEN] )
GO
ALTER TABLE [dbo].[CHUABENHCHITIET] CHECK CONSTRAINT [FK_CHUABENHCHITIET_NHANVIEN]  
GO

-- ForeignKey [FK_CHUABENH_CHUABENHPHUONGTHUC]
ALTER TABLE [dbo].[CHUABENH]  WITH CHECK ADD  CONSTRAINT [FK_CHUABENH_CHUABENHPHUONGTHUC] FOREIGN KEY([MAPHUONGTHUCCHUA])
REFERENCES [dbo].[CHUABENHPHUONGTHUC] ([MAPHUONGTHUCCHUA])
GO
ALTER TABLE [dbo].[CHUABENH] CHECK CONSTRAINT [FK_CHUABENH_CHUABENHPHUONGTHUC]  
GO

-- ForeignKey [FK_NHANVIEN_PHONGBAN]
ALTER TABLE [dbo].[NHANVIEN]  WITH CHECK ADD  CONSTRAINT [FK_NHANVIEN_PHONGBAN] FOREIGN KEY([MAPHONGBAN])
REFERENCES [dbo].[PHONGBAN] ([MAPHONGBAN])
GO
ALTER TABLE [dbo].[NHANVIEN] CHECK CONSTRAINT [FK_NHANVIEN_PHONGBAN]
GO

-- ForeignKey [FK_NHANVIEN_CHUYENMON]
ALTER TABLE [dbo].[NHANVIEN]  WITH CHECK ADD  CONSTRAINT [FK_NHANVIEN_CHUYENMON] FOREIGN KEY([MACHUYENMON])
REFERENCES [dbo].[CHUYENMON] ([MACHUYENMON])
GO
ALTER TABLE [dbo].[NHANVIEN] CHECK CONSTRAINT [FK_NHANVIEN_CHUYENMON]
GO

-- ForeignKey [[FK_KHAMCHIDINH_NHANVIEN]]
ALTER TABLE [dbo].[KHAMCHIDINH]  WITH CHECK ADD  CONSTRAINT [FK_KHAMCHIDINH_NHANVIEN] FOREIGN KEY([MANHANVIEN] )
REFERENCES [dbo].[NHANVIEN] ([MANHANVIEN] )
GO
ALTER TABLE [dbo].[KHAMCHIDINH] CHECK CONSTRAINT [FK_KHAMCHIDINH_NHANVIEN]
GO

-- ForeignKey [FK_HOADON_BENHNHAN]
ALTER TABLE [dbo].[HOADON]  WITH CHECK ADD  CONSTRAINT [FK_HOADON_BENHNHAN]   FOREIGN KEY([MABENHNHAN] )
REFERENCES [dbo].[BENHNHAN] ([MABENHNHAN] )
GO
ALTER TABLE [dbo].[HOADON] CHECK CONSTRAINT [FK_HOADON_BENHNHAN]  
GO

-- ForeignKey [FK_DONTHUOC_NHANVIEN]
ALTER TABLE [dbo].[DONTHUOC]  WITH CHECK ADD  CONSTRAINT [FK_DONTHUOC_NHANVIEN]  FOREIGN KEY([MANHANVIEN] )
REFERENCES [dbo].[NHANVIEN] ([MANHANVIEN] )
GO
ALTER TABLE [dbo].[DONTHUOC] CHECK CONSTRAINT [FK_DONTHUOC_NHANVIEN]
GO

-- ForeignKey [FK_KHAMCHITIET_DONTHUOC]
ALTER TABLE [dbo].[KHAMCHITIET]  WITH CHECK ADD  CONSTRAINT [FK_KHAMCHITIET_DONTHUOC] FOREIGN KEY([MADONTHUOC] )
REFERENCES [dbo].[DONTHUOC] ([MADONTHUOC] )
GO
ALTER TABLE [dbo].[KHAMCHITIET] CHECK CONSTRAINT [FK_KHAMCHITIET_DONTHUOC]
GO

-- ForeignKey [FK_CHITIETDONTHUOC_DONTHUOC]
ALTER TABLE [dbo].[DONTHUOCCHITIET]  WITH CHECK ADD  CONSTRAINT [FK_DONTHUOCCHITIET_DONTHUOC] FOREIGN KEY([MADONTHUOC] )
REFERENCES [dbo].[DONTHUOC] ([MADONTHUOC] )
GO
ALTER TABLE [dbo].[DONTHUOCCHITIET] CHECK CONSTRAINT  [FK_DONTHUOCCHITIET_DONTHUOC]
GO

-- ForeignKey [FK_CHITIETDONTHUOC_THUOC]
ALTER TABLE [dbo].[DONTHUOCCHITIET]  WITH CHECK ADD  CONSTRAINT [FK_DONTHUOCCHITIET_THUOC] FOREIGN KEY([MATHUOC])
REFERENCES [dbo].[THUOC] ([MATHUOC])
GO
ALTER TABLE [dbo].[DONTHUOCCHITIET] CHECK CONSTRAINT  [FK_DONTHUOCCHITIET_THUOC]
GO

-- ForeignKey [FK_BENH_CHUYENMON]
ALTER TABLE [dbo].[BENH]  WITH CHECK ADD  CONSTRAINT [FK_BENH_CHUYENMON] FOREIGN KEY([PHANLOAI])
REFERENCES [dbo].[CHUYENMON] ([MACHUYENMON])
GO
ALTER TABLE [dbo].[BENH] CHECK CONSTRAINT  [FK_BENH_CHUYENMON]
GO

